---
import type { CollectionEntry } from "astro:content";

interface Props {
  event: CollectionEntry<"events">;
  useLightBackground?: boolean;
}

const { event, useLightBackground = true } = Astro.props;
const { title, date, location, description, image } = event.data;

// Format the date
const formattedDate = new Date(date).toLocaleDateString("en-US", {
  year: "numeric",
  month: "long",
  day: "numeric",
});
---

<div
  class:list={[
    "border border-gray-200 rounded-lg shadow hover:shadow-md transition-shadow duration-300 overflow-hidden mb-4",
    useLightBackground ? "bg-light" : "bg-light2",
  ]}
>
  {
    image && (
      <div class="h-48 overflow-hidden">
        <img src={image} alt={title} class="w-full h-full object-cover" />
      </div>
    )
  }
  <div class="p-6">
    <h2 class="text-2xl font-bold mb-2">{title}</h2>
    <div class="flex flex-col md:flex-row md:justify-between mb-4">
      <p class="mb-1 md:mb-0">
        <span class="font-medium">Date:</span>
        {formattedDate}
      </p>
      <p>
        <span class="font-medium">Location:</span>
        {location}
      </p>
    </div>
    <p class="mb-4">{description}</p>
    <a href={`/events/${event.id}`} class="button-style !px-4">
      View Details
    </a>
  </div>
</div>
